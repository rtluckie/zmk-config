
#define AP(NAME, DISPLAY_NAME, SYM1, SYM2)                                          \
    MASKED(NAME ## _sym1_masked, DISPLAY_NAME (Base 1), (MOD_RSFT|MOD_LSFT), SYM1)  \
    MASKED(NAME ## _sym2_masked, DISPLAY_NAME (Base 2), (MOD_RSFT|MOD_LSFT), SYM2)  \
    ZMK_MACRO(NAME,                                                                 \
        bindings                                                                    \
            = <& ## NAME ## _sym1_masked>                                           \
            , <& ## NAME ## _sym2_masked>                                           \
            , <&mm_left_masked>;                                                       \
        display-name = #DISPLAY_NAME;                                               \
    )

/ {
    macros {
        AP(par_macro,  Macro Par,  &kp LPAR,  &kp RPAR)
        AP(bkt_macro,  Macro Bkt,  &kp LBKT,  &kp RBKT)
        AP(sqt_macro,  Macro Sqt,  &kp SQT,   &kp SQT)
        AP(dqt_macro,  Macro Dqt,  &kp DQT,   &kp DQT)
        AP(dgrv_macro, Macro Grv,  &kp GRAVE, &kp GRAVE)
        AP(brc_macro,  Macro Brc , &kp LBRC,  &kp RBRC)
        AP(lgt_macro,  Macro GLT,  &kp LT,    &kp GT)



        ZMK_MACRO(r_mods,
            bindings
                = <&macro_release>
                , <&kp LGUI   &kp RGUI>
                , <&kp LALT   &kp RALT>
                , <&kp LCTRL  &kp RCTRL>
                , <&kp LSHIFT &kp RSHIFT>;
            display-name = "Release Mods";
        )

        ZMK_MACRO(sel_word_base,
            wait-ms = <0>;
            tap-ms = <0>;
            bindings
                = <&kp LC(RIGHT)>
                , <&kp LC(LEFT)>;
            display-name = "Select Word (Base)";
        )

        ZMK_MACRO(sel_line_base,
            wait-ms = <0>;
            tap-ms = <0>;
            bindings
                = <&kp HOME>
                , <&kp LS(END)>;
            display-name = "Select Line (Base)";
        )

        ZMK_MACRO(sel_line_next,
            wait-ms = <1>;
            tap-ms = <1>;
            bindings
                = <&kp LS(DOWN)>
                , <&kp LS(HOME)>;
            display-name = "Select Line (Next)";
        )

        ZMK_MACRO(mc_swapper,
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_tap &kp LG(TAB)>;
            display-name = "swapper";
        )
        ZMK_MACRO(mc_fwd,
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&kp LG(RBKT)>;
            display-name = "forward";
        )
        
        ZMK_MACRO(mc_bck,
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&kp LG(LBKT)>;
            display-name = "backward";
        )

        ZMK_MACRO(mc_tprev,
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&kp LG(LS(LEFT_BRACE))>;
            display-name = "previous tab";
        )
        
        ZMK_MACRO(mc_tnext,
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&kp LG(LS(RIGHT_BRACE))>;
            display-name = "next tab";
        )

        ZMK_MACRO(mc_wnext,
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&kp LG(GRAVE)>;
            display-name = "next tab";
        )

        ZMK_MACRO(mc_wprev,
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&kp LG(LS(GRAVE))>;
            display-name = "previous tab";
        )


        ZMK_MACRO1(bts,
            bindings
                = <&out OUT_BLE>
                , <&macro_param_1to2>
                , <&bt BT_SEL MACRO_PLACEHOLDER>;
            display-name = "BT Select";
        )
    };
};
